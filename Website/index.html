<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WikiStats</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
        input, button { font-size: 16px; padding: 5px; }
        #results { margin-top: 20px; }
        .player { border: 1px solid #ddd; padding: 10px; margin-bottom: 10px; cursor: pointer; }
        .player:hover { background-color: #f0f0f0; }
    </style>
</head>
<body>
    <h1>WikiStats</h1>
    <input type="text" id="searchInput" placeholder="Enter player name">
    <button id="searchButton" onclick="searchPlayers()">Search</button>
    <div id="results"></div>

    <script>
    let players = [];

    function searchPlayers() {
        const searchText = document.getElementById('searchInput').value;
        const urlString = `https://en.wikipedia.org/w/api.php?action=opensearch&search=${encodeURIComponent(searchText)}&limit=10&namespace=0&format=json&origin=*`;

        fetch(urlString)
            .then(response => response.json())
            .then(jsonArray => {
                if (Array.isArray(jsonArray) && jsonArray.length > 3) {
                    const names = jsonArray[1];
                    const urls = jsonArray[3];
                    if (Array.isArray(names) && Array.isArray(urls) && names.length === urls.length) {
                        players = names.map((name, index) => ({ name, url: urls[index] }));
                        displayResults();
                    }
                }
            })
            .catch(error => console.error('Error:', error));
    }

    function displayResults() {
        const resultsDiv = document.getElementById('results');
        resultsDiv.innerHTML = players.map(player => `
            <div class="player" onclick="openWikipediaPage('${player.url}')">
                <h2>${player.name}</h2>
            </div>
        `).join('');
    }

    function openWikipediaPage(url) {
        window.open(url, '_blank');
    }

    // Add event listener for the Enter key
    document.getElementById('searchInput').addEventListener('keypress', function(event) {
        if (event.key === 'Enter') {
            event.preventDefault(); // Prevent the default action
            document.getElementById('searchButton').click(); // Trigger the search button click
        }
    });
    </script>
</body>
</html>